<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ApplyFormDataTable</title>
    <!-- Include Bootstrap and DataTables CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/dataTables.bootstrap4.min.css" />
    <!-- Include jQuery and DataTables JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/dataTables.bootstrap4.min.js"></script>
</head>

<body class="bg-light">
    <div class="container mt-5">
        <h2 class="mb-4">Apply Form DataTable</h2>
        <div class="row">
            <table id="dataTable" class="table table-striped table-sm table-hover table-bordered">
                <thead>
                    <tr>
                        <th>Full Name</th>
                        <th>Father Name</th>
                        <th>Gmail</th>
                        <th>WhatsApp Number</th>
                        <th>Address</th>
                        <th>Medical College</th>
                        <th>Year of Study</th>
                        <th>Practice Test</th>
                        <th>Transaction ID</th>
                        <th>Receipt</th>
                        <th>Age</th>
                        <th>Ex</th>
                        <th>Media</th
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Data will be dynamically loaded here -->
                </tbody>
            </table>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            const webAppUrl = 'https://script.google.com/macros/s/AKfycbxlLShXBoA3ibk-eN5TbGUsT4dNVy9zmJdIbxMI5Kq168aAYHpfbjWHSEEkQplAeqPErg/exec';

            fetch(webAppUrl)
                .then(response => response.json())
                .then(data => {
                    const tableBody = document.getElementById('tableBody');
                    data.forEach(row => {
                        let tr = document.createElement('tr');
                        tr.innerHTML = `
                            <td>${row['full_name']}</td>
                            <td>${row['father_name']}</td>
                            <td>${row['gmail']}</td>
                            <td>${row['whatsapp_number']}</td>
                            <td>${row['address']}</td>
                            <td>${row['medical_college']}</td>
                            <td>${row['year_of_study']}</td>
                            <td>${row['practice_test']}</td>
                            <td>${row['transaction_id']}</td>
                            <td>${row['receipt']}</td>
                            <td>${row['age']}</td>
                            <td>${row['ex']}</td>
                            <td><a href='${row['media']}' target='_blank'>Open Link</a></td>
                        `;
                        tableBody.appendChild(tr);
                    });

                    $('#dataTable').DataTable({
                        paging: true,
                        searching: true,
                        info: true,
                        responsive: true,
                        lengthChange: true,
                        autoWidth: false
                    });
                })
                .catch(error => console.error('Error fetching data:', error));
        });
    </script>
</body>

</html>
